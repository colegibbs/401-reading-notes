# Reading 34: API Deployment

## [Django Settings Best Practices](https://djangostars.com/blog/configuring-django-settings-best-practices/)

- need a way to keep django setting configured accross different environments
- Sensitive data is being passing by SECRET_KEY
- need general approch to eliminate human error
- settings.py can have tricky logic
- settings_local.py
  - oldest method
  - extends settings.py
  - pros: secrets not in VCS
  - cons: lose some settings, can have non-obvious logic
  - need to have settings_local.example in VCS
- Separate settings for each env
  - pros: all environments in vcs, easy to share
  - cons: need to find a way to handle passwords and tokens, inheritance of settings is hard to maintain
- Environment variable
  - issues: you need to deal with KeyErrors, have to convert types manually
  - pros: config in seperate code, same coe for all env, no inheritance in settings, cleaner and more consistent code, theoretical grounding
  - cons: sharing default config between developers
- 12 Factor
  - collection of deployment recomendations
  - Codebase, Dependencies, config, backing services, build/release/run, processes, port binding, concurrency, disposability, dev/prod parity, logs, admin processes
  - each point is a recommended way to implement an aspect of the project
  - the main one for now is to store configuration in the environment
- django-environ
  - use django-environ to store settings in env
  - settings.py becomes .env file associated
- setting structure
  - split settings by source instead of env
  - each source can be it's own package if needed
- Naming conventions
  - rules: give meaningful names to your settings, always use the prefix with the project name for custom settings, write description for your settings in comments
- Django Settings best practices
  - keep settings in envrionment varaibles
  - write default values for production configuration w/o secret keys and tokens
  - don't hardcode sensitive setting, and don't put them in vcs
  - split settings in to groups like django, third-pary, project
  - follow naming convention for custom (project) settings

## [SSH Tutorial](https://www.hostinger.com/tutorials/ssh-tutorial-how-does-ssh-work)

- SSH is Secure Shell Protocol
- allows user to do stuff to their remote server over internet
- authenticates a remote user, transfers iputs from client to host and relays the output back to client
- ssh {user}@{host}
- user is the user targeted
- host is the computer you want to access (ip)
- symmetrical encryption, asymmetrical encryption, and hashing
- symmetrical encryption
  - uses a secret key to encrpt and decrpt
  - anyone with key can do these things
  - also called shared key or shared secret encryption
  - key is never disclosed to third party
  - key is generated by key exchange algorithm and the key is never sent from client to host or vica verca
  - send part of key and algorithm finds it
  - toekn is created new every session
- asymmetric encryption
  - public-private key pair
  - anyone can encrpty with public key
  - encrpytion and decryption are automatic
  - used during key exchange algorithm of symmetric encryption
  - asymetrical then symetrical
- Hashing
  - never meant to be decrypted
  - practically impossible to reverse
  - can compare hashes to see if they mathc
  - message authentication
- client and host connect over port 22
- steps to establish connection: both systems must agree on encryption standard to protect future coms, user must authenticate themselves
- session encryption negotiation
  - both cleint and host arrive at an encrpytion key with algorithm

## Bookmark

- [White Noise](http://whitenoise.evans.io/en/stable/)
- [IaaS](https://en.wikipedia.org/wiki/Infrastructure_as_a_service)
- [PaaS](https://en.wikipedia.org/wiki/Platform_as_a_service)
- [CORS](https://en.m.wikipedia.org/wiki/Cross-origin_resource_sharing)
